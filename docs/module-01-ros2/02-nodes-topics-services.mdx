---
id: nodes-topics-services
title: Nodes, Topics, and Services
slug: /module-01-ros2/02-nodes-topics-services
---

In ROS 2, the modularity and distributed nature of robotic systems are facilitated by a few fundamental communication primitives: Nodes, Topics, and Services. Understanding these concepts is crucial for building any ROS 2 application.

## Nodes

A **Node** is an executable process that performs computation. In a typical robot system, you would have a node for each specific function, such as:

*   A node to control a motor.
*   A node to read data from a sensor (e.g., a camera).
*   A node to estimate the robot's pose.
*   A node to plan a path.

Nodes are independent processes that can be written in various programming languages (e.g., Python, C++) and can communicate with each other.

## Topics

**Topics** are the primary mechanism for asynchronous, one-to-many communication in ROS 2. Nodes publish messages to topics, and other nodes subscribe to those topics to receive the messages.

*   **Publishers**: Nodes that send data to a topic.
*   **Subscribers**: Nodes that receive data from a topic.

This publish/subscribe model allows for loose coupling between nodes, meaning publishers and subscribers don't need to know about each other's existence directly. The ROS 2 middleware handles the routing of messages.

```python
# Example: Python Publisher
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class MinimalPublisher(Node):
    def __init__(self):
        super().__init__('minimal_publisher')
        self.publisher_ = self.create_publisher(String, 'topic', 10)
        timer_period = 0.5  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback)
        self.i = 0

    def timer_callback(self):
        msg = String()
        msg.data = 'Hello World: %d' % self.i
        self.publisher_.publish(msg)
        self.get_logger().info('Publishing: "%s"' % msg.data)
        self.i += 1

def main(args=None):
    rclpy.init(args=args)
    minimal_publisher = MinimalPublisher()
    rclpy.spin(minimal_publisher)
    minimal_publisher.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

## Services

**Services** provide a synchronous, request-response communication mechanism in ROS 2. Unlike topics, which are for continuous data streams, services are used for calls that expect a single response for a single request.

*   **Service Server**: A node that provides a service and responds to requests.
*   **Service Client**: A node that makes a request to a service server and waits for a response.

This is analogous to a function call in a distributed system, where the client calls a service and blocks until it receives a result.

```python
# Example: Python Service Server (Conceptual)
import rclpy
from rclpy.node import Node
from example_interfaces.srv import AddTwoInts

class MinimalService(Node):
    def __init__(self):
        super().__init__('minimal_service')
        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)

    def add_two_ints_callback(self, request, response):
        response.sum = request.a + request.b
        self.get_logger().info('Incoming request: a: %d b: %d' % (request.a, request.b))
        return response

def main(args=None):
    rclpy.init(args=args)
    minimal_service = MinimalService()
    rclpy.spin(minimal_service)
    minimal_service.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

Topics are suitable for continuous data streams like sensor readings or motor commands, while services are better for infrequent, specific requests like triggering an action or querying information.
