"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[522],{4389:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(6540),i=o(4015),s=o(9345),n=o(6347),l=o(4848);const a=()=>{const[e,t]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[d,p]=(0,r.useState)(null),[u,c]=(0,r.useState)(null),{login:h,isAuthenticated:g}=(0,s.A)(),x=(0,n.W6)();(0,r.useEffect)(()=>{g&&x.push("/")},[g,x]);return g?null:(0,l.jsx)(i.A,{title:"Login",description:"Login to your account.",children:(0,l.jsxs)("main",{style:{padding:"20px",maxWidth:"400px",margin:"0 auto"},children:[(0,l.jsx)("h1",{children:"Login"}),(0,l.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(null),c(null);try{const t=await fetch("https://your-deployed-backend-url.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:o})}),r=await t.json();t.ok?(h(r.access_token,r.user),c("Login successful!"),router.history.push("/")):p(r.detail||"Login failed.")}catch(r){console.error("Login error:",r),p("Network error or server unavailable.")}},children:[(0,l.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,l.jsx)("label",{htmlFor:"email",style:{display:"block",marginBottom:"5px"},children:"Email:"}),(0,l.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),(0,l.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,l.jsx)("label",{htmlFor:"password",style:{display:"block",marginBottom:"5px"},children:"Password:"}),(0,l.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>a(e.target.value),required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),(0,l.jsx)("button",{type:"submit",style:{backgroundColor:"#007bff",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",width:"100%"},children:"Login"})]}),d&&(0,l.jsxs)("p",{style:{color:"red",marginTop:"10px"},children:["Error: ",d]}),u&&(0,l.jsx)("p",{style:{color:"green",marginTop:"10px"},children:u}),(0,l.jsxs)("p",{style:{marginTop:"20px"},children:["Don't have an account? ",(0,l.jsx)("a",{href:"/signup",children:"Sign Up"})]})]})})}}}]);